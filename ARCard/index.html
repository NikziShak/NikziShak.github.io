<!DOCTYPE html>
<html>
    <head>
        
        <title> AR Invitation </title>
        <meta name="viewport" content="width=device-width,height=device-height">
	<meta name="apple-mobile-web-app-capable" content="yes">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
     
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.5/aframe/build/aframe-ar.js"></script>


        <script>                     
		
	    // ARCard component
		 AFRAME.registerComponent('arcard-handler', {
            
		init: function() {
		    //console.log("I was triggered");
		    const marker1 = document.querySelector("#marker1");
		    const imgMap = document.querySelector("#img-map");
			const imglinkedin = document.querySelector("#img-linkedin");
			const imgmail = document.querySelector("#img-mail");
			const imgphone = document.querySelector("#img-phone");
			const imgwebsite = document.querySelector("#img-website");
			this.toggle = false;
            this.vid = document.querySelector("#invitation");
            this.vid.pause();
		    marker1.addEventListener('click', function(ev, target) {
		        const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
			if (imgMap && intersectedElement === imgMap) {
			    console.log("Clicked");
			    document.location.href = "https://goo.gl/maps/X4967wJ3ahSJXund7";
			}
			if (imglinkedin && intersectedElement === imglinkedin) {
			    console.log("Clicked");
			    document.location.href = "http://www.linkedin.com/in/nikit-sharma-303aa9126";
			}
			if (imgphone && intersectedElement === imgphone) {
			    console.log("Clicked");
			    document.location.href = "tel:+918898028728";
			}
			if (imgmail && intersectedElement === imgmail) {
			    console.log("Clicked");
			    document.location.href = "mailto:contactme@nikitsharma.com";
			}
			if (imgwebsite && intersectedElement === imgwebsite) {
			    console.log("Clicked");
			    document.location.href = "www.nikitsharma.com";
			}
		    });
		},
		tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
	    });
			
            
        </script>
    </head>
    <body>

        <a-scene id="scene" arjs='trackingMethod: best; debugUIEnabled: false;' vr-mode-ui="enabled: false" ar-template >
            
            <a-assets>

                
                <!-- Invitation  Video -->
                
                <video preload="none" id="invitation" response-type="arraybuffer" loop="false" crossorigin webkit-playsinline playsinline controls>
                    <source  src="videos/result.mp4">
                </video>

                <!-- Map point Image -->

                <img id="profile" src="images/20200827_135035.jpg">     
                
                <!-- Texture Image -->

                <img id="texture" src="images/texture.jpg">
				<img id="phone_icon" src="images/Phone.png">
				<img id="website_icon" src="images/Website.png">
				<img id="linkedin_icon" src="images/Linkedin.png">
				<img id="mail_icon" src="images/Mail.png">
				<img id="baxter" src="images/baxter.png">
				<img id="ibm" src="images/ibm.png">
				<img id="lti" src="images/LTI.jpeg">

            </a-assets>
            
            <!-- AR Card Marker -->

            <a-marker id="marker1" type='pattern' url='markers/pattern-NikLogo.patt' emitevents="true" cursor="rayOrigin: mouse" arcard-handler>
                
                <a-plane id="img-map" scale = "1 2" position='0 1 0' rotation="-90 0 0" material='transparent:true;src:#profile'></a-plane>	
				 <a-plane scale="1 2" rotation="-90 0 0" src="#texture">
				 	<a-animation attribute="position" delay="3000" dur="3000" from="0 0 0" to="1 1 -1" repeat="0"></a-animation>
                    <a-text id="timer" clock-text value="Nikit Sharma" width="2.5" height="1" position="-0.4 0.4 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="Technical Consultant" width="2" height="1" position="-0.4 0.3 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="IIM Visakhapatnam" width="1.6" height="1" position="-0.4 0.2 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="Past Experiences" width="1.4" height="1" position="-0.4 0.1 0.05" color="#FFFFFF"></a-text>
					<a-image src="#baxter" position="-0.2 0 0.05" width="0.4" height="0.09"></a-image>
					<a-text id="timer" clock-text value="Senior Analyst" width="1.2" height="1" position="0 0 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="(Jun'19- Jul'20)" width="1.2" height="1" position="0 -0.08 0.05" color="#FFFFFF"></a-text>
					<a-image src="#ibm" position="-0.2 -0.14 0.05" width="0.4" height="0.09"></a-image>
					<a-text id="timer" clock-text value="Senior System Engineer" width="1" height="1" position="0 -0.14 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="(Aug'18- May'19)" width="1.2" height="1" position="0 -0.20 0.05" color="#FFFFFF"></a-text>
					<a-image src="#lti" position="-0.2 -0.28 0.05" width="0.4" height="0.09"></a-image>
					<a-text id="timer" clock-text value="Software Engineer" width="1.2" height="1" position="0 -0.28 0.05" color="#FFFFFF"></a-text>
					<a-text id="timer" clock-text value="(Jun'15- Aug'18)" width="1.2" height="1" position="0 -0.34 0.05" color="#FFFFFF"></a-text>
                </a-plane>

				<a-plane scale = "1 2" rotation="-90 0 0" material='transparent:true;src:#invitation' controls><a-animation attribute="position" delay="6000" dur="3000" from="0 0 0" to="1 1 1" repeat="0"></a-animation></a-plane>

				<a-box id="img-phone" src="#phone_icon" position="-0.5 -0.09 2" depth="0.15" height="0.15" width="0.15" rotation="-90 0 0" src="#texture">
				<a-animation attribute="rotation" dur="7000" to="0 360 0" easing="linear" repeat="indefinite"></a-animation>
				</a-box>
				<a-box id="img-website" src="#website_icon" position="-0.3 -0.09 2" depth="0.15" height="0.15" width="0.15">
				<a-animation attribute="rotation" dur="7000" to="0 360 0" easing="linear" repeat="indefinite"></a-animation>
				</a-box>
				<a-box id="img-linkedin" src="#linkedin_icon" position="-0.1 -0.09 2" depth="0.15" height="0.15" width="0.15">
				<a-animation attribute="rotation" dur="7000" to="0 360 0" easing="linear" repeat="indefinite"></a-animation>
				</a-box>
				<a-box id="img-mail" src="#mail_icon" position="0.1 -0.2 2" depth="0.15" height="0.15" width="0.15">
				<a-animation attribute="rotation" dur="7000" to="0 360 0" easing="linear" repeat="indefinite"></a-animation>
				</a-box>
				

               		

            </a-marker>     
                    
            <!-- Camera -->

          <a-entity camera="" position="" wasd-controls="" rotation="" look-controls="" aframe-injected=""></a-entity>

        </a-scene>


    </body>
</html>
